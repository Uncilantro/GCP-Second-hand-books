{"version":3,"file":"lowestprice.js","sources":["pages/lowestprice/lowestprice.vue","D:/develop/HBuilderX.4.24.2024072208/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvbG93ZXN0cHJpY2UvbG93ZXN0cHJpY2UudnVl"],"sourcesContent":["<template>\r\n\t<view class=\"lowtop\">\r\n\t\t<image class=\"lowicon\" src=\"../../static/价格最低白.png\" mode=\"\"></image>\r\n\t\t<view class=\"lowtitle\">\r\n\t\t\t价格最低排行榜\r\n\t\t</view>\r\n\t</view>\r\n\t<view class=\"no-collection\" v-if=\"sortedItems.length === 0\">\r\n\t\t暂无用户数据\r\n\t</view>\r\n\t<view v-else>\r\n\t\t<view v-for=\"(item, idx) in sortedItems.slice(0, 100)\" :key=\"item.isbn || idx\" class=\"print-item rank-item\">\r\n\t\t\t<view class=\"rank-badge\">{{ idx + 1 }}</view>\r\n\t\t\t<image :src=\"item.img\" class=\"print-item-img\" />\r\n\t\t\t<view class=\"print-item-content\">\r\n\t\t\t\t<view class=\"print-item-title\">{{ item.id }}</view>\r\n\t\t\t\t<view class=\"print-item-price\">价格: {{ item.jiage }} 元</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tallData: []\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tsortedItems() {\r\n\t\t\t\tlet allItems = [];\r\n\t\t\t\tif (Array.isArray(this.allData)) {\r\n\t\t\t\t\tthis.allData.forEach(college => {\r\n\t\t\t\t\t\tif (Array.isArray(college.foods)) {\r\n\t\t\t\t\t\t\tallItems.push(...college.foods);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\t// 只保留有价格的\r\n\t\t\t\tallItems = allItems.filter(item => typeof item.jiage === 'number' && !isNaN(item.jiage));\r\n\t\t\t\t// 按价格升序排列\r\n\t\t\t\treturn allItems.sort((a, b) => a.jiage - b.jiage);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\t// 页面加载时请求后端数据\r\n\t\t\tuni.request({\r\n\t\t\t\turl: 'http://localhost:3000/api/bookdate',\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tthis.allData = res.data;\r\n\t\t\t\t},\r\n\t\t\t\tfail: () => {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '获取数据失败',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.lowtop {\r\n\t\tposition: relative;\r\n\t\ttop: 10rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex: 1;\r\n\t\tborder-radius: 20rpx;\r\n\t\tbackground-color: #17257c;\r\n\t\tbox-shadow: 5rpx 5rpx 5rpx 0 rgba(0, 0, 0, 0.5);\r\n\t\twidth: 80%;\r\n\t\theight: 220rpx;\r\n\t\tmargin: 0% auto;\r\n\r\n\t\t.lowicon {\r\n\t\t\twidth: 180rpx;\r\n\t\t\theight: 180rpx;\r\n\t\t\tposition: relative;\r\n\t\t\ttop: 20rpx;\r\n\t\t\tleft: 20rpx;\r\n\t\t}\r\n\r\n\t\t.lowtitle {\r\n\t\t\tcolor: white;\r\n\t\t\tfont-weight: bolder;\r\n\t\t\tfont-size: 40rpx;\r\n\t\t\ttop:80rpx;\r\n\t\t\tposition: relative;\r\n\t\t\talign-items: center;\r\n\t\t\tmargin-left: 40rpx;\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t.rank-item {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tmargin: 30rpx 0 30rpx 0;\r\n\t\tpadding: 30rpx 20rpx 30rpx 20rpx;\r\n\t\tbackground: linear-gradient(135deg, #f8fafc 60%, #e6f0fa 100%);\r\n\t\tborder-radius: 24rpx;\r\n\t\tbox-shadow: 0 8rpx 24rpx rgba(50, 141, 100, 0.10), 0 2rpx 8rpx rgba(0,0,0,0.08);\r\n\t\tposition: relative;\r\n\t\ttransition: box-shadow 0.2s;\r\n\t}\r\n\t.rank-item:hover {\r\n\t\tbox-shadow: 0 12rpx 32rpx rgba(50, 141, 100, 0.18), 0 4rpx 16rpx rgba(0,0,0,0.12);\r\n\t}\r\n\t.rank-badge {\r\n\t\twidth: 48rpx;\r\n\t\theight: 48rpx;\r\n\t\tbackground: #328d64;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 28rpx;\r\n\t\tfont-weight: bold;\r\n\t\tborder-radius: 50%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tmargin-right: 24rpx;\r\n\t\tbox-shadow: 0 2rpx 8rpx rgba(50, 141, 100, 0.18);\r\n\t}\r\n\t.print-item-img {\r\n\t\twidth: 100rpx;\r\n\t\theight: 100rpx;\r\n\t\tmargin-right: 20rpx;\r\n\t\tborder-radius: 16rpx;\r\n\t\tbox-shadow: 0 2rpx 8rpx rgba(50, 141, 100, 0.10);\r\n\t}\r\n\t.print-item-content {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tflex: 1;\r\n\t}\r\n\t.print-item-title {\r\n\t\tfont-size: 32rpx;\r\n\t\tcolor: #333;\r\n\t\tmargin-bottom: 10rpx;\r\n\t\tfont-weight: bold;\r\n\t\tflex: 1;\r\n\t}\r\n\t.print-item-price {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #328d64;\r\n\t\tmargin-bottom: 10rpx;\r\n\t\tfont-weight: bold;\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.print-item-img {\r\n\t\twidth: 100rpx;\r\n\t\theight: 100rpx;\r\n\t\tmargin-right: 20rpx;\r\n\t\tborder-radius: 8rpx;\r\n\t}\r\n\r\n\t.print-item-content {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.print-item-title {\r\n\t\tfont-size: 32rpx;\r\n\t\tcolor: #333;\r\n\t\tmargin-bottom: 10rpx;\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.print-item-price {\r\n\t\tfont-size: 28rpx;\r\n\t\tcolor: #666;\r\n\t\tmargin-bottom: 10rpx;\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.print-page {\r\n\t\tpadding: 20rpx;\r\n\t}\r\n\r\n\t.print-header {\r\n\t\tfont-size: 40rpx;\r\n\t\tfont-weight: bold;\r\n\t\tmargin-bottom: 20rpx;\r\n\t}\r\n\r\n\t.no-collection {\r\n\t\ttext-align: center;\r\n\t\tfont-size: 18px;\r\n\t\tcolor: #999;\r\n\t\tmargin-top: 50px;\r\n\t}\r\n</style>","import MiniProgramPage from 'C:/Users/CHZ/Desktop/GCP-Second-hand-books/pages/lowestprice/lowestprice.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni"],"mappings":";;;AAuBC,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,SAAS,CAAC;AAAA;EAEX;AAAA,EACD,UAAU;AAAA,IACT,cAAc;AACb,UAAI,WAAW,CAAA;AACf,UAAI,MAAM,QAAQ,KAAK,OAAO,GAAG;AAChC,aAAK,QAAQ,QAAQ,aAAW;AAC/B,cAAI,MAAM,QAAQ,QAAQ,KAAK,GAAG;AACjC,qBAAS,KAAK,GAAG,QAAQ,KAAK;AAAA,UAC/B;AAAA,QACD,CAAC;AAAA,MACF;AAEA,iBAAW,SAAS,OAAO,UAAQ,OAAO,KAAK,UAAU,YAAY,CAAC,MAAM,KAAK,KAAK,CAAC;AAEvF,aAAO,SAAS,KAAK,CAAC,GAAG,MAAM,EAAE,QAAQ,EAAE,KAAK;AAAA,IACjD;AAAA,EACA;AAAA,EACD,SAAS;AAERA,kBAAAA,MAAI,QAAQ;AAAA,MACX,KAAK;AAAA,MACL,QAAQ;AAAA,MACR,SAAS,CAAC,QAAQ;AACjB,aAAK,UAAU,IAAI;AAAA,MACnB;AAAA,MACD,MAAM,MAAM;AACXA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACP,CAAC;AAAA,MACF;AAAA,IACD,CAAC;AAAA,EACF;AACD;;;;;;;;;;;;;;;;;;AC5DD,GAAG,WAAW,eAAe;"}