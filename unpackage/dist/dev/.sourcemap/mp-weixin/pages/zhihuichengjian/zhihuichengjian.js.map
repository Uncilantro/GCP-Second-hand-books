{"version":3,"file":"zhihuichengjian.js","sources":["pages/zhihuichengjian/zhihuichengjian.vue","D:/develop/HBuilderX.4.24.2024072208/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvemhpaHVpY2hlbmdqaWFuL3poaWh1aWNoZW5namlhbi52dWU"],"sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<view class=\"scroll-view-container\">\r\n\t\t\t<!-- 左侧的滚动视图区域 -->\r\n\t\t\t<scroll-view class=\"left-scroll-view\" scroll-y :style=\"{height: wh + 'px'}\">\r\n\t\t\t\t<view class=\"left-scroll-view-item\" v-for=\"(type, index) in college\" :key=\"type\"\r\n\t\t\t\t\t@click=\"selectType(type, index)\" :class=\"{active: currentIndex === index}\">\r\n\t\t\t\t\t{{ type }}\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t\t<!-- 右侧的滚动视图区域 -->\r\n\t\t\t<scroll-view class=\"right-scroll-view\" scroll-y>\r\n\t\t\t\t<view class=\"bottom-box\" v-for=\"item in filteredItems\" :key=\"item.id\">\r\n\t\t\t\t\t<view class=\"tuijian\">\r\n\t\t\t\t\t\t<img :src=\"item.img\" alt=\"Book Cover\" class=\"fengmian\" />\r\n\t\t\t\t\t\t<view class=\"right\">\r\n\t\t\t\t\t\t\t<view class=\"title\">\r\n\t\t\t\t\t\t\t\t{{ item.id }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"smalltext\">\r\n\t\t\t\t\t\t\t\t适用专业: {{ item.type }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"smalltext\">\r\n\t\t\t\t\t\t\t\t价格: <span\r\n\t\t\t\t\t\t\t\t\tstyle=\"color: crimson; font-weight: bolder; font-size: 36rpx;\">&nbsp;{{ item.jiage }}&nbsp;</span>元\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"smalltext\">\r\n\t\t\t\t\t\t\t\tISBN码:{{ item.isbn }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport { mapState } from 'vuex';\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcollege: [],\r\n\t\t\t\tallItems: [],\r\n\t\t\t\tselectedType: '',\r\n\t\t\t\twh: 0,\r\n\t\t\t\tcurrentIndex: 0\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState(['items']),\r\n\t\t\tfilteredItems() {\r\n\t\t\t\tif (this.selectedType) {\r\n\t\t\t\t\treturn this.allItems.filter(item => item.type === this.selectedType);\r\n\t\t\t\t}\r\n\t\t\t\treturn this.allItems;\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\t// 页面加载时请求后端数据\r\n\t\t\tuni.request({\r\n\t\t\t\turl: 'http://localhost:3000/api/bookdate',\r\n\t\t\t\tmethod: 'GET',\r\n\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\tconst data = res.data;\r\n\t\t\t\t\tconst zhihuichengjianCollege = data.find(college => college.names === '智慧城建学院');\r\n\t\t\t\t\tif (zhihuichengjianCollege) {\r\n\t\t\t\t\t\tthis.college = [...new Set(zhihuichengjianCollege.foods.map(food => food.type))];\r\n\t\t\t\t\t\tthis.allItems = zhihuichengjianCollege.foods;\r\n\t\t\t\t\t\tconsole.log('college:', this.college);\r\n\t\t\t\t\t\tconsole.log('allItems:', this.allItems);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.error('智慧城建学院数据未找到');\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tfail: () => {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '获取数据失败',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tselectType(type, index) {\r\n\t\t\t\tthis.selectedType = type;\r\n\t\t\t\tthis.currentIndex = index;\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\t// 获取当前系统的信息\r\n\t\t\tconst sysInfo = uni.getSystemInfoSync();\r\n\t\t\t// 为 wh 窗口可用高度动态赋值\r\n\t\t\tthis.wh = sysInfo.windowHeight;\r\n\t\t\tconsole.log('窗口高度:', this.wh);\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.container {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\theight: 100vh;\r\n\t}\r\n\r\n\t.scroll-view-container {\r\n\t\tdisplay: flex;\r\n\t\tflex-grow: 1;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.left-scroll-view {\r\n\t\twidth: 120px;\r\n\t\tborder-right: 1px solid #ccc;\r\n\t\tbackground-color: #f7f7f7;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: space-between;\r\n\r\n\t\t.left-scroll-view-item {\r\n\t\t\tflex: 1;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\ttext-align: center;\r\n\t\t\tfont-size: 14px;\r\n\t\t\tborder-bottom: 1px solid #ddd;\r\n\t\t\ttransition: background-color 0.3s;\r\n\t\t\tposition: relative;\r\n\t\t\tmin-height: 80px;\r\n\t\t\t/* 增加高度 */\r\n\t\t\tpadding: 10px 0;\r\n\t\t\t/* 增加内边距 */\r\n\r\n\t\t\t&.active {\r\n\t\t\t\tbackground-color: #ffffff;\r\n\r\n\t\t\t\t&::before {\r\n\t\t\t\t\tcontent: ' ';\r\n\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\twidth: 6rpx;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t\tbackground-color: #65a29f;\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tleft: 0;\r\n\t\t\t\t\ttop: 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.right-scroll-view {\r\n\t\tflex-grow: 1;\r\n\t\tpadding: 10px;\r\n\t\tdisplay: grid;\r\n\t\tgrid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\r\n\t\tgap: 10px;\r\n\t\toverflow-y: auto;\r\n\t}\r\n\r\n\t.selected-college {\r\n\t\tbackground-color: white;\r\n\t\tborder: 1px solid #ddd;\r\n\t\tborder-radius: 4px;\r\n\t\tpadding: 10px;\r\n\t\tbox-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n\t\ttransition: transform 0.3s;\r\n\r\n\t\t&:hover {\r\n\t\t\ttransform: translateY(-5px);\r\n\t\t}\r\n\r\n\t\timg {\r\n\t\t\tmax-width: 100%;\r\n\t\t\theight: auto;\r\n\t\t\tborder-radius: 4px;\r\n\t\t\tmargin-bottom: 10px;\r\n\t\t}\r\n\r\n\t\th3 {\r\n\t\t\tmargin: 0 0 10px;\r\n\t\t\tfont-size: 18px;\r\n\t\t}\r\n\r\n\t\tp {\r\n\t\t\tmargin: 5px 0;\r\n\t\t\tfont-size: 14px;\r\n\t\t}\r\n\t}\r\n\r\n\t.smalltext {\r\n\t\tline-height: 55rpx;\r\n\t\tfont-size: 30rpx;\r\n\t\tcolor: gray;\r\n\t\tfont-weight: bold;\r\n\t\tdisplay: -webkit-box;\r\n\t\t-webkit-box-orient: vertical;\r\n\t\t-webkit-line-clamp: 1;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t}\r\n\r\n\t.bottom-box {\r\n\t\twidth: 96%;\r\n\t\tmargin: 1rpx auto;\r\n\t\tmargin-top: 15rpx;\r\n\t\tborder: 3rpx solid #f3f3f3;\r\n\t\tborder-radius: 25rpx;\r\n\t\tbox-shadow: 5rpx 5rpx 5rpx 0 rgba(0, 0, 0, 0.5);\r\n\t\tpadding-top: 30rpx;\r\n\t}\r\n\r\n\t.tuijian {\r\n\t\tpadding-top: 20rpx;\r\n\t\tbackground-color: #fff;\r\n\t\tmargin: 2rpx auto;\r\n\t\theight: 250rpx;\r\n\t\tmargin-bottom: 30rpx;\r\n\t\twidth: 95%;\r\n\t\tbox-shadow: 15rpx 15rpx 15rpx 0 rgba(0, 0, 0, 0.5);\r\n\t\tbackground-color: #f3f3f3;\r\n\t\tdisplay: flex;\r\n\t\tbox-shadow: 5rpx 10rpx 10rpx gray;\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.fengmian {\r\n\t\twidth: 160rpx;\r\n\t\tbox-shadow: 15rpx 15rpx 15rpx 0 rgba(0, 0, 0, 0.5);\r\n\t\theight: 180rpx;\r\n\t\tmargin: 20rpx;\r\n\t}\r\n\r\n\t.right {\r\n\t\tmargin-left: 50rpx;\r\n\t\tline-height: 55rpx;\r\n\t}\r\n\r\n\t.title {\r\n\t\tfont-size: 40rpx;\r\n\t\tcolor: #000;\r\n\t\tfont-weight: bold;\r\n\t\tdisplay: -webkit-box;\r\n\t\t-webkit-box-orient: vertical;\r\n\t\t-webkit-line-clamp: 1;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t}\r\n</style>","import MiniProgramPage from 'C:/Users/CHZ/Desktop/GCP-Second-hand-books/pages/zhihuichengjian/zhihuichengjian.vue'\nwx.createPage(MiniProgramPage)"],"names":["mapState","uni"],"mappings":";;AAwCC,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,SAAS,CAAE;AAAA,MACX,UAAU,CAAE;AAAA,MACZ,cAAc;AAAA,MACd,IAAI;AAAA,MACJ,cAAc;AAAA;EAEf;AAAA,EACD,UAAU;AAAA,IACT,GAAGA,cAAQ,SAAC,CAAC,OAAO,CAAC;AAAA,IACrB,gBAAgB;AACf,UAAI,KAAK,cAAc;AACtB,eAAO,KAAK,SAAS,OAAO,UAAQ,KAAK,SAAS,KAAK,YAAY;AAAA,MACpE;AACA,aAAO,KAAK;AAAA,IACb;AAAA,EACA;AAAA,EACD,UAAU;AAETC,kBAAAA,MAAI,QAAQ;AAAA,MACX,KAAK;AAAA,MACL,QAAQ;AAAA,MACR,SAAS,CAAC,QAAQ;AACjB,cAAM,OAAO,IAAI;AACjB,cAAM,yBAAyB,KAAK,KAAK,aAAW,QAAQ,UAAU,QAAQ;AAC9E,YAAI,wBAAwB;AAC3B,eAAK,UAAU,CAAC,GAAG,IAAI,IAAI,uBAAuB,MAAM,IAAI,UAAQ,KAAK,IAAI,CAAC,CAAC;AAC/E,eAAK,WAAW,uBAAuB;AACvCA,wBAAY,MAAA,MAAA,OAAA,mDAAA,YAAY,KAAK,OAAO;AACpCA,wBAAY,MAAA,MAAA,OAAA,mDAAA,aAAa,KAAK,QAAQ;AAAA,eAChC;AACNA,wBAAAA,MAAc,MAAA,SAAA,mDAAA,aAAa;AAAA,QAC5B;AAAA,MACA;AAAA,MACD,MAAM,MAAM;AACXA,sBAAAA,MAAI,UAAU;AAAA,UACb,OAAO;AAAA,UACP,MAAM;AAAA,QACP,CAAC;AAAA,MACF;AAAA,IACD,CAAC;AAAA,EACD;AAAA,EACD,SAAS;AAAA,IACR,WAAW,MAAM,OAAO;AACvB,WAAK,eAAe;AACpB,WAAK,eAAe;AAAA,IACrB;AAAA,EACA;AAAA,EACD,SAAS;AAER,UAAM,UAAUA,oBAAI;AAEpB,SAAK,KAAK,QAAQ;AAClBA,kBAAY,MAAA,MAAA,OAAA,mDAAA,SAAS,KAAK,EAAE;AAAA,EAC7B;;;;;;;;;;;;;;;;;;;;;;;;;;AC/FF,GAAG,WAAW,eAAe;"}