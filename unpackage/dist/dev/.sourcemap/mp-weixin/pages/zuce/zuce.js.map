{"version":3,"file":"zuce.js","sources":["pages/zuce/zuce.vue","D:/develop/HBuilderX.4.24.2024072208/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvenVjZS96dWNlLnZ1ZQ"],"sourcesContent":["<template>\r\n    <view class=\"body\">\r\n        <view class=\"wrapper\">\r\n            <form @submit.prevent=\"handleRegister\">\r\n                <h1 class=\"title\">注册</h1>\r\n                <view class=\"input-box\">\r\n                    <i class=\"fas fa-envelope icon\"></i>\r\n                    <input type=\"text\" v-model=\"username\" id=\"usernameInput\" required ref=\"usernameInputRef\"\r\n                        @focus=\"moveLabel('username')\" @blur=\"resetLabel('username')\" />\r\n                    <label :class=\"{ moved: isUsernameMoved }\" for=\"usernameInput\">Username</label>\r\n                </view>\r\n                <view class=\"input-box\">\r\n                    <i class=\"fas fa-lock icon\"></i>\r\n                    <input :type=\"passwordType\" v-model=\"password\" id=\"passwordInput\" required ref=\"passwordInputRef\"\r\n                        @focus=\"moveLabel('password')\" @blur=\"resetLabel('password')\" />\r\n                    <label :class=\"{ moved: isPasswordMoved }\" for=\"passwordInput\">Password</label>\r\n                    <i class=\"fas fa-eye icon eye-icon\" @click=\"togglePasswordVisibility('password')\"></i>\r\n                </view>\r\n                <view class=\"input-box\">\r\n                    <i class=\"fas fa-lock icon\"></i>\r\n                    <input :type=\"confirmPasswordType\" v-model=\"confirmPassword\" id=\"confirmPasswordInput\" required\r\n                        ref=\"confirmPasswordInputRef\" @focus=\"moveLabel('confirmPassword')\"\r\n                        @blur=\"resetLabel('confirmPassword')\" />\r\n                    <label :class=\"{ moved: isConfirmPasswordMoved }\" for=\"confirmPasswordInput\">Confirm\r\n                        Password</label>\r\n                    <i class=\"fas fa-eye icon eye-icon\" @click=\"togglePasswordVisibility('confirmPassword')\"></i>\r\n                </view>\r\n                <view class=\"input-box\">\r\n                    <i class=\"fas fa-user icon\"></i>\r\n                    <input type=\"text\" v-model=\"title\" id=\"titleInput\" required ref=\"titleInputRef\"\r\n                        @focus=\"moveLabel('title')\" @blur=\"resetLabel('title')\" />\r\n                    <label :class=\"{ moved: isTitleMoved }\" for=\"titleInput\">Title</label>\r\n                </view>\r\n                <view class=\"cell image-box preview-center\">\r\n                    <view v-if=\"bookImage\" class=\"preview-image\">\r\n                        <image :src=\"bookImage\" mode=\"aspectFill\" style=\"width: 100px; height: 100px;\" />\r\n                    </view>\r\n                </view>\r\n                <button @click=\"chooseImage\">选择图片</button>\r\n                <button class=\"btn\" @click=\"handleRegister\">注册</button>\r\n            </form>\r\n        </view>\r\n        <view class=\"signup-link-underline-out\" @click=\"navigate\">\r\n            已有账号？立即登录\r\n        </view>\r\n    </view>\r\n\t\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tref\r\n\t} from 'vue';\r\n\timport {\r\n\t\tonMounted\r\n\t} from 'vue';\r\n\timport {\r\n\t\tuseRouter\r\n\t} from 'vue-router';\r\n\timport data from '/Api/login.js'; // 导入 id 页面的数据\r\n\r\n\tconst username = ref('');\r\n\tconst password = ref('');\r\n\tconst confirmPassword = ref('');\r\n\tconst email = ref('');\r\n\tconst title = ref('');\r\n\tconst bookImage = ref('');\r\n\tconst isUsernameMoved = ref(false);\r\n\tconst isPasswordMoved = ref(false);\r\n\tconst isConfirmPasswordMoved = ref(false);\r\n\tconst isEmailMoved = ref(false);\r\n\tconst isTitleMoved = ref(false);\r\n\tconst router = useRouter();\r\n\tconst passwordType = ref('password');\r\n\tconst confirmPasswordType = ref('password');\r\n\r\n\tasync function chooseImage() {\r\n\t\tuni.chooseImage({\r\n\t\t\tcount: 1, // 选择一张图片\r\n\t\t\tsizeType: ['original', 'compressed'], // 可以指定是原图还是压缩图，默认二者都有\r\n\t\t\tsourceType: ['album'], // 从相册选择\r\n\t\t\tsuccess: function(res) {\r\n\t\t\t\tbookImage.value = res.tempFilePaths[0];\r\n\t\t\t\tconsole.log('Selected image:', bookImage.value); // 添加这行\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction navigate() {\r\n\t\tuni.navigateTo({\r\n\t\t\turl: '/pages/login/login'\r\n\t\t})\r\n\t}\r\n\r\n\tfunction handleRegister() {\r\n\t\tif (password.value !== confirmPassword.value) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '密码不一致',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst existingAccount = data.find(item => item.content.account === username.value);\r\n\r\n\t\tif (existingAccount) {\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '用户名已存在',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// 将新用户数据添加到 accountData 中\r\n\t\tdata.push({\r\n\t\t\tstate: false,\r\n\t\t\tcontent: {\r\n\t\t\t\taccount: username.value,\r\n\t\t\t\tpassword: password.value,\r\n\t\t\t\timg: bookImage.value ||\r\n\t\t\t\t\t'https://tse3-mm.cn.bing.net/th/id/OIP-C.0-vJS5KbFZwCSWe-dWqKrwHaHa?w=168&h=180&c=7&r=0&o=5&dpr=1.5&pid=1.7',\r\n\t\t\t\ttitle: title.value,\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tuni.showToast({\r\n\t\t\ttitle: '注册成功',\r\n\t\t\ticon: 'success'\r\n\t\t});\r\n\t\tsetTimeout(() => {\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl: '/pages/login/login'\r\n\t\t\t});\r\n\t\t}, 2000); // 跳转到登录页面\r\n\t}\r\n\r\n\tfunction moveLabel(inputType) {\r\n\t\tif (inputType === 'username') {\r\n\t\t\tisUsernameMoved.value = true;\r\n\t\t} else if (inputType === 'password') {\r\n\t\t\tisPasswordMoved.value = true;\r\n\t\t} else if (inputType === 'confirmPassword') {\r\n\t\t\tisConfirmPasswordMoved.value = true;\r\n\t\t} else if (inputType === 'email') {\r\n\t\t\tisEmailMoved.value = true;\r\n\t\t} else if (inputType === 'title') {\r\n\t\t\tisTitleMoved.value = true;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction resetLabel(inputType) {\r\n\t\tif (inputType === 'username' && !username.value) {\r\n\t\t\tisUsernameMoved.value = false;\r\n\t\t} else if (inputType === 'password' && !password.value) {\r\n\t\t\tisPasswordMoved.value = false;\r\n\t\t} else if (inputType === 'confirmPassword' && !confirmPassword.value) {\r\n\t\t\tisConfirmPasswordMoved.value = false;\r\n\t\t} else if (inputType === 'email' && !email.value) {\r\n\t\t\tisEmailMoved.value = false;\r\n\t\t} else if (inputType === 'title' && !title.value) {\r\n\t\t\tisTitleMoved.value = false;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction togglePasswordVisibility(inputType) {\r\n\t\tif (inputType === 'password') {\r\n\t\t\tpasswordType.value = passwordType.value === 'password' ? 'text' : 'password';\r\n\t\t} else if (inputType === 'confirmPassword') {\r\n\t\t\tconfirmPasswordType.value = confirmPasswordType.value === 'password' ? 'text' : 'password';\r\n\t\t}\r\n\t}\r\n\r\n\tonMounted(() => {\r\n\t\t// 初始化时可以做一些操作，例如获取数据等\r\n\t});\r\n</script>\r\n\r\n<style scoped>\r\n\t.cell {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tpadding: 24rpx 32rpx;\r\n\t\tborder-bottom: 1rpx solid #ebedf0;\r\n\t}\r\n\r\n\t.image-box {\r\n\t\tposition: relative;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t\tmargin-left: 250rpx;\r\n\t\twidth: 120rpx;\r\n\t\tmargin-top: 20rpx;\r\n\t\tmargin-bottom: 20rpx;\r\n\t\theight: 150rpx;\r\n\t\tborder: 1rpx solid #dcdfe6;\r\n\t\tborder-radius: 8rpx;\r\n\t\tbox-shadow: 0 4rpx 8rpx rgba(0, 0, 0, 0.05);\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.title {\r\n\t\tcolor: #4e987a;\r\n\t\tfont-weight: bolder;\r\n\t\tfont-size: 60rpx;\r\n\t\tletter-spacing: 2px;\r\n\t}\r\n\r\n\t.body {\r\n\t\twidth: 100vw;\r\n\t\theight: 100vh;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tbackground: linear-gradient(135deg, #e8f5e9 0%, #56a081 60%, #4e987a 100%);\r\n\t}\r\n\r\n\t.wrapper {\r\n\t\tposition: relative;\r\n\t\twidth: 340px;\r\n\t\theight: 520px;\r\n\t\tbackground: #fff;\r\n\t\tborder-radius: 18px;\r\n\t\tbox-shadow: 0 8px 32px 0 rgba(86,160,129,0.12);\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tpadding: 40px 24px 32px 24px;\r\n\t\toverflow: hidden;\r\n\t\tleft: 80rpx;\r\n\t}\r\n\t.signup-link-underline {\r\n\t\tposition: absolute;\r\n\t\tbottom: 18px;\r\n\t\tright: 24px;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 13px;\r\n\t\ttext-decoration: underline;\r\n\t\tcursor: pointer;\r\n\t\tbackground: transparent;\r\n\t\tz-index: 2;\r\n\t}\r\n\tform {\r\n\t\tposition: relative;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.wrapper h1 {\r\n\t\tfont-size: 2em;\r\n\t\tcolor: #4e987a;\r\n\t\ttext-align: center;\r\n\t\tmargin-bottom: 24px;\r\n\t}\r\n\r\n\t.input-box {\r\n\t\tposition: relative;\r\n\t\twidth: 100%;\r\n\t\tmargin: 18px 0 0 0;\r\n\t\tborder-bottom: 2px solid #56a081;\r\n\t}\r\n\r\n\t.input-box label {\r\n\t\tposition: absolute;\r\n\t\ttop: 50%;\r\n\t\tleft: 5px;\r\n\t\ttransform: translateY(-50%);\r\n\t\tfont-size: 1em;\r\n\t\tpointer-events: none;\r\n\t\ttransition: 0.5s;\r\n\t\tcolor: #56a081;\r\n\t}\r\n\r\n\t.input-box input {\r\n\t\twidth: 100%;\r\n\t\theight: 48px;\r\n\t\tbackground: transparent;\r\n\t\tborder: none;\r\n\t\toutline: none;\r\n\t\tfont-size: 1em;\r\n\t\tcolor: #222;\r\n\t\tpadding: 0 40px 0 5px;\r\n\t}\r\n\r\n\t.input-box label.moved {\r\n\t\ttop: -5px;\r\n\t\tfont-size: 12px;\r\n\t\tcolor: #4e987a;\r\n\t}\r\n\r\n\t.input-box .icon {\r\n\t\tposition: absolute;\r\n\t\tright: 8px;\r\n\t\tfont-size: 1.2em;\r\n\t\tcolor: #56a081;\r\n\t\tline-height: 57px;\r\n\t\tcursor: pointer;\r\n\t}\r\n\r\n\t.input-box .eye-icon {\r\n\t\tright: 35px;\r\n\t\tcursor: pointer;\r\n\t}\r\n\r\n\t.cell.image-box {\r\n\t\tmargin: 10px 0 0 0;\r\n\t\tborder: none;\r\n\t\tbox-shadow: none;\r\n\t\tbackground: none;\r\n\t\tpadding: 0;\r\n\t\tjustify-content: flex-start;\r\n\t}\r\n\r\n\t.preview-image image {\r\n\t\tborder-radius: 8px;\r\n\t\tbox-shadow: 0 2px 8px 0 rgba(86,160,129,0.10);\r\n\t}\r\n\r\n\t.wrapper .btn {\r\n\t\twidth: 100%;\r\n\t\theight: 44px;\r\n\t\tbackground: linear-gradient(90deg, #56a081 0%, #4e987a 100%);\r\n\t\toutline: none;\r\n\t\tborder: none;\r\n\t\tborder-radius: 40px;\r\n\t\tcursor: pointer;\r\n\t\tfont-size: 1em;\r\n\t\tfont-weight: 600;\r\n\t\tcolor: #fff;\r\n\t\tmargin-top: 24px;\r\n\t\tbox-shadow: 0 2px 8px 0 rgba(86,160,129,0.10);\r\n\t\ttransition: background 0.2s;\r\n\t}\r\n\t.btn:hover {\r\n\t\tbackground: linear-gradient(90deg, #4e987a 0%, #56a081 100%);\r\n\t}\r\n\r\n\t.wrapper .signup-link {\r\n\t\tfont-size: 0.9em;\r\n\t\tcolor: #56a081;\r\n\t\ttext-align: center;\r\n\t\tmargin: 25px 0 10px;\r\n\t}\r\n\t.wrapper .signup-link a {\r\n\t\tcolor: #56a081;\r\n\t\ttext-decoration: none;\r\n\t\tfont-weight: 600;\r\n\t\ttransition: color 0.2s;\r\n\t}\r\n\t.wrapper .signup-link a:hover {\r\n\t\tcolor: #4e987a;\r\n\t\ttext-decoration: underline;\r\n\t}\r\n\r\n\t@media (max-width: 400px) {\r\n\t\t.wrapper {\r\n\t\t\twidth: 96vw;\r\n\t\t\tmax-width: 96vw;\r\n\t\t\theight: 520px;\r\n\t\t\tpadding: 24px 8px 16px 8px;\r\n\t\t}\r\n\t\t.wrapper .input-box {\r\n\t\t\twidth: 90vw;\r\n\t\t}\r\n\t}\r\n\t.preview-center {\r\n\t\tjustify-content: center !important;\r\n\t\talign-items: center !important;\r\n\t\tdisplay: flex !important;\r\n\t}\r\n\t.signup-link-underline-out {\r\n\t\tposition: relative;\r\n\t\ttop: 580rpx;\r\n\t\tleft: -260rpx;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 10px;\r\n\t\ttext-decoration: underline;\r\n\t\tcursor: pointer;\r\n\t\tbackground: transparent;\r\n\t\tz-index: 2;\r\n\t}\r\n</style>","import MiniProgramPage from 'C:/Users/CHZ/Desktop/GCP-Second-hand-books/pages/zuce/zuce.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","useRouter","uni","data","onMounted"],"mappings":"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"}